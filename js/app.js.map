{"version":3,"sources":["app.js","move-item-page.js","reorder.js","resize.js","slideitem.js","init.js"],"names":["app","slidemaker","$","on","e","cancelTrack","off","moveItem","preventDefault","top","pageY","moveY","left","pageX","moveX","maxX","width","item","maxY","height","css","this","startPosition","position","mouseleave","slideReorder","cancelTextSelection","reorderSlide","shouldMoveUp","insertBefore","prev","allDone","shouldMoveDown","insertAfter","next","y","offset","switchpoint","nextSlide","removeClass","hide","document","closest","addClass","resizeItems","resizeItemBR","newSize","event","slidePosition","resize","children","toggle","SlideItem","spec","type","console","log","self","bgcolor","scr","src","text","size","textcolor","page","data"],"mappings":"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","file":"app.js","sourcesContent":["// The namespace for this application\nvar app = {};\n","// Make a page with slides that can be moved around\napp.slidemaker = function ()  {\n  $('.slide-item').on('mousedown', function(e) {\n    e.preventDefault();\n    var item = $(this);\n    // capture the positions of the text or image div\n    var startPosition = item.position();\n\n    // capture the position of the mouse relative to the body\n    var moveX = e.pageX - startPosition.left;\n    var moveY = e.pageY - startPosition.top;\n\n    // add listeners to\n    // track the mouse and move the items based up the offset and former positions\n    $('body').on('mousemove', moveItem);\n    $('body').on('mouseup', cancelTrack);\n\n    $('body').mouseleave(function() {\n      cancelTrack();\n    });\n\n    // on mouseup we'll shut down the listeners\n    function cancelTrack() {\n      $('body').off('mousemove', moveItem);\n      $('body').off('mouseup', cancelTrack);\n    }\n\n    // adjust the positions and sizes using css selectors\n    function moveItem(e) {\n      e.preventDefault();\n      var top = e.pageY - moveY;\n      var left = e.pageX - moveX;\n      var maxX = $('.slide-maker').width() - item.width();\n      var maxY = $('.slide-maker').height() - item.height();\n\n      top < 0 ? top = 0 : true;\n      top > maxY ? top = maxY : true;\n      left < 0 ? left = 0 : true;\n      left > maxX ? left = maxX : true;\n\n      item.css({\n        top: top,\n        left: left\n      });\n    }\n  });\n};\n","app.slideReorder = function() {\n\n  $('.thumb-img').on('mousedown', function() {\n    var item = $(this).closest('.slide-thumb');\n    var switchpoint = item.height() / 2;\n\n    item.addClass('reorder-thumb');\n\n    // get position of slide-thumb\n    var position = item.position();\n\n    // $('body').on('mousedown', showNewPosition);\n    $('body').on('mouseup', reorderSlide);\n\n    // Disable text selection when dragging\n    $(document).on('selectstart dragstart', cancelTextSelection);\n\n    function cancelTextSelection(e) {\n      e.preventDefault();\n      return false;\n    }\n\n    function reorderSlide(e) {\n      // slidesFollowMouse(e);\n      // use e.pageY to compare position and reorder items\n      if (shouldMoveUp(e.pageY)) {\n        // move it up\n        item.insertBefore(item.prev());\n        allDone();\n      } else if (shouldMoveDown(e.pageY)) {\n        // move it down\n        item.insertAfter(item.next());\n        allDone();\n      }\n      return false;\n    }\n\n    function showNewPosition(e) {\n      if (shouldMoveUp(e.pageY)) {\n        // move it up\n        console.log($(this));\n      } else if (shouldMoveDown(e.pageY)) {\n        // move it down\n        console.log($(this));\n\n      }\n    }\n\n    function shouldMoveUp(y) {\n      var offset = item.prev().offset();\n      return offset && offset.top > y - switchpoint;\n    }\n    function shouldMoveDown(y) {\n      var nextSlide = item.next();\n      var offset = nextSlide.offset();\n      return offset && offset.top + nextSlide.height() < y + switchpoint;\n    }\n    function allDone() {\n      item.removeClass('reorder-thumb');\n      $('placeholder').hide();\n      $('body').off('mouseup', allDone);\n      $('body').off('mousemove', reorderSlide);\n      $(document).off('selectstart dragstart', cancelTextSelection);\n    }\n  });\n}\n","app.resizeItems = function() {\n\n  $('.slide-item').on('dblclick', resizeItems);\n\n  function resizeItems(e) {\n\n    e.preventDefault();\n    var item = $(this);\n    var resize = item.children('.resize');\n    resize.toggle();\n\n    var tl = $('.top-left');\n    var tr = $('.top-right');\n    var bl = $('.bottom-left');\n    var br = $('.bottom-right');\n    // br.show();\n\n    $('body').on('mousedown', '.bottom-right', resizeItemBR);\n\n    function resizeItemBR(e) {\n      $('body').off('mousemove');\n      $('body').on('mousemove', newSize);\n      $('body').on('mouseup', cancelTrack);\n\n      return false;\n\n      function cancelTrack(e) {\n        $('body').off('mousemove', newSize);\n        $('body').off('mouseup', cancelTrack);\n        app.slidemaker();\n      }\n      function newSize(event) {\n        event.preventDefault();\n        var slidePosition = item.offset();\n        item.off('mousedown');\n        var height = event.pageY - slidePosition.top;\n        var width = event.pageX - slidePosition.left;\n\n        item.css ({\n          height: height,\n          width: width\n        });\n      }\n    }\n  }\n};\n","app.SlideItem = function(spec) {\n\n  if (!spec.type) {\n    console.log('put in a type dude');\n    return;\n  }\n\n  var self = {\n    type: spec.type,\n    top: spec.top,\n    left: spec.left,\n    width: spec.width,\n    height: spec.height,\n    bgcolor: spec.bgcolor\n  };\n    if (spec.type === 'box') {\n      self.scr = spec.src;\n    } else if (spec.type === 'textbox') {\n      self.text = spec.text;\n      self.size = spec.size;\n      self.textcolor = spec.textcolor;\n    }\n\n  return self;\n};\n","$(function () {\n  var page = $('body').data('page');\n  app[page]();\n  app.resizeItems();\n  app.slideReorder();\n});\n"],"sourceRoot":"/source/"}